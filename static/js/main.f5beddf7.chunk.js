(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{50:function(e,a,t){},51:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var r,s=t(1),i=t.n(s),c=t(20),n=t.n(c),l="/",o="/login",d="/favorites",j="/offer/:id",u="/not-found",m="AUTH",p="NO_AUTH",b="UNKNOWN",h="/hotels/",_="/nearby",O="/favorite/",f="/comments/",v="/login",x="/logout",g="en-US",N="numeric",y="short",A={id:null,name:"",token:"",isPro:!1,email:"",avatarUrl:""},w="Price: low to high",C="Price: high to low",S="Top rated first",k=[{type:"Popular"},{type:"Price: low to high"},{type:"Price: high to low"},{type:"Top rated first"}],R=[{name:"Paris",location:{lat:48.85661,lng:2.351499,zoom:13}},{name:"Cologne",location:{lat:50.938361,lng:6.959974,zoom:13}},{name:"Brussels",location:{lat:50.846557,lng:4.351697,zoom:13}},{name:"Amsterdam",location:{lat:52.37454,lng:4.897976,zoom:13}},{name:"Hamburg",location:{lat:53.550341,lng:10.000654,zoom:13}},{name:"Dusseldorf",location:{lat:51.225402,lng:6.776314,zoom:13}}],q={normal:{type:"place-card",width:18,height:19},large:{type:"property",width:31,height:33}},E=t(3),I=t(5),D="CITY_CHANGE",B="SORT_CHANGE",T="SORT_MENU_OPEN",M="ACTIVE_OFFER",U="SELECT_OFFER",P="data/loadOffers",L="data/loadReviews",J="user/requiredAuthorization",F="LOGIN",Q="user/logout",K="REDIRECT_TO_ROUTE",G="COMMENT_SEND",H="FAVORITE_STATUS_CHANGE",W="SET_COMMENT_SEND_SUCCESS",V="SET_COMMENT_SEND_ERROR",Y="COMMENT_SENDING",z=Object(I.b)(D,(function(e){return{payload:e}})),Z=Object(I.b)(B,(function(e){return{payload:e}})),X=Object(I.b)(T,(function(e){return{payload:e}})),$=Object(I.b)(M,(function(e){return{payload:Number(e)}})),ee=Object(I.b)(U,(function(e){return{payload:e}})),ae=Object(I.b)(P,(function(e){return{payload:e}})),te=Object(I.b)(L,(function(e){return{payload:e}})),re=Object(I.b)(J,(function(e){return{payload:e}})),se=Object(I.b)(F,(function(e){return{payload:e}})),ie=Object(I.b)(Q),ce=Object(I.b)(K,(function(e){return{payload:e}})),ne=Object(I.b)(G,(function(e){return{payload:e}})),le=Object(I.b)(H,(function(e){return{payload:e}})),oe=Object(I.b)(W,(function(e){return{payload:e}})),de=Object(I.b)(V,(function(e){return{payload:e}})),je=Object(I.b)(Y,(function(e){return{payload:e}})),ue=function(e){var a=Object.assign({},e,{id:e.id,title:e.title,rating:me(e.rating),price:e.price,type:e.type,isFavorite:e.is_favorite,isPremium:e.is_premium,previewImage:e.preview_image,bedrooms:e.bedrooms,maxAdults:e.max_adults,description:e.description,goods:e.goods,city:{name:e.city.name,location:{lat:e.city.location.latitude,lng:e.city.location.longitude,zoom:e.city.location.zoom}},host:{avatarUrl:e.host.avatar_url,id:e.host.id,isPro:e.host.is_pro,name:e.host.name},images:e.images,location:{lat:e.location.latitude,lng:e.location.longitude,zoom:e.location.zoom}});return delete a.is_favorite,delete a.is_premium,delete a.preview_image,delete a.max_adults,a},me=function(e){var a=Math.round(e);return a>5?5:a},pe=function(e){var a=Object.assign({},e,{avatarUrl:e.avatar_url,email:e.email,id:e.id,isPro:e.is_pro,name:e.name,token:e.token});return delete a.avatar_url,delete a.is_pro,a},be=function(e){return function(a,t,r){return r.get(f+e).then((function(e){var t=e.data;return a(te(t.map((function(e){return function(e){return Object.assign({},e,{id:e.id,date:e.date,comment:e.comment,rating:e.rating,user:{avatarUrl:e.user.avatar_url,id:e.user.id,isPro:e.user.is_pro,name:e.user.name}})}(e)}))))}))}},he=t(14),_e=t(11),Oe={sortType:"Popular",sortMenuIsOpen:!1},fe=Object(I.c)(Oe,(function(e){e.addCase(Z,(function(e,a){e.sortType=a.payload})).addCase(X,(function(e,a){e.sortMenuIsOpen=a.payload}))})),ve={isDataLoaded:!1,isDataOfferLoaded:!1,offers:[],reviews:[],selectedOffer:{},activeOffer:null,city:{name:"Paris",location:{lat:48.86471,lng:2.3,zoom:12}},sortMenuIsOpen:!1},xe=Object(I.c)(ve,(function(e){e.addCase(ae,(function(e,a){e.offers=a.payload,e.isDataLoaded=!0})).addCase(ee,(function(e,a){e.selectedOffer=a.payload,e.isDataOfferLoaded=!0})).addCase(te,(function(e,a){e.reviews=a.payload,e.isDataLoaded=!0})).addCase($,(function(e,a){e.activeOffer=a.payload})).addCase(le,(function(e,a){var t=e.offers.find((function(e){return e.id===a.payload}));t&&(t.isFavorite=!t.isFavorite),a.payload===e.selectedOffer.id&&(e.selectedOffer.isFavorite=!e.selectedOffer.isFavorite)})).addCase(z,(function(e,a){e.city=a.payload,e.sortMenuIsOpen=!1}))})),ge={authorizationStatus:b,user:A},Ne=Object(I.c)(ge,(function(e){e.addCase(re,(function(e,a){e.authorizationStatus=a.payload})).addCase(se,(function(e,a){e.user=a.payload})).addCase(ie,(function(e){e.authorizationStatus=p,e.user=A}))})),ye=Object(I.c)({comment:{comment:"",rating:null},isCommentSendSuccess:!1,isCommentSendError:!1,isCommentSending:!1},(function(e){e.addCase(ne,(function(e,a){e.comment=a.payload})).addCase(oe,(function(e,a){e.isCommentSendSuccess=a.payload})).addCase(de,(function(e,a){e.isCommentSendError=a.payload})).addCase(je,(function(e,a){e.isCommentSending=a.payload}))})),Ae="LOADED_DATA",we="SENT_DATA",Ce="USER",Se="SORT",ke=Object(_e.c)((r={},Object(he.a)(r,Ae,xe),Object(he.a)(r,we,ye),Object(he.a)(r,Ce,Ne),Object(he.a)(r,Se,fe),r)),Re=function(e){return e[Ce].authorizationStatus},qe=function(e){return e[Ce].user},Ee=t(0);var Ie=function(e){var a=e.isFavorite,t=e.id,r=e.buttonFavoriteStyle,s=Object(E.b)(),i=Object(E.c)(Re),c="".concat(r.type,"__bookmark-button button"),n="".concat(r.type,"__bookmark-button button ").concat(r.type,"__bookmark-button--active");return Object(Ee.jsxs)("button",{onClick:function(e){e.preventDefault(),s(function(e,a){return function(t,r,s){return s.post("".concat(O+e,"/").concat(a?0:1)).then((function(){return t(le(e))})).catch((function(){return t(ce(o))}))}}(t,a))},className:a&&i===m?n:c,type:"button",children:[Object(Ee.jsx)("svg",{className:"".concat(r.type,"__bookmark-icon"),width:r.width,height:r.height,children:Object(Ee.jsx)("use",{xlinkHref:"#icon-bookmark"})}),Object(Ee.jsx)("span",{className:"visually-hidden",children:"To bookmarks"})]})};var De=function(e){var a=e.rating,t="".concat(20*a,"%");return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("span",{style:{width:t}}),Object(Ee.jsx)("span",{className:"visually-hidden",children:"Rating"})]})},Be=t(2),Te=t.n(Be),Me=(Te.a.shape({id:Te.a.number.isRequired,title:Te.a.string.isRequired,rating:Te.a.number.isRequired,price:Te.a.number.isRequired,type:Te.a.string.isRequired,isFavorite:Te.a.bool.isRequired,isPremium:Te.a.bool.isRequired,previewImage:Te.a.string.isRequired,bedrooms:Te.a.number.isRequired,maxAdults:Te.a.number.isRequired,description:Te.a.string.isRequired,goods:Te.a.arrayOf(Te.a.string.isRequired).isRequired,city:Te.a.shape({name:Te.a.string.isRequired,location:Te.a.shape({lat:Te.a.number.isRequired,lng:Te.a.number.isRequired,zoom:Te.a.number.isRequired}).isRequired}).isRequired,host:Te.a.shape({avatarUrl:Te.a.string.isRequired,id:Te.a.number.isRequired,isPro:Te.a.bool.isRequired,name:Te.a.string.isRequired}).isRequired,images:Te.a.arrayOf(Te.a.string.isRequired).isRequired,location:Te.a.shape({lat:Te.a.number.isRequired,lng:Te.a.number.isRequired,zoom:Te.a.number.isRequired}).isRequired}),t(7)),Ue=t(6);var Pe=function(e){var a=e.id,t=e.title;return Object(Ee.jsx)("h2",{className:"place-card__name",children:Object(Ee.jsx)(Me.a,{to:{pathname:Object(Ue.f)(j,{id:a})},children:t})})};function Le(e){var a=e.onOfferMouseEnter,t=e.onOfferMouseLeave,r=e.offer,s=r.title,i=r.price,c=r.type,n=r.rating,l=r.isFavorite,o=r.isPremium,d=r.id,j=r.previewImage;return Object(Ee.jsxs)("article",{className:"cities__place-card place-card",onMouseEnter:function(){a(d)},onMouseLeave:t,children:[o?Object(Ee.jsx)("div",{className:"place-card__mark",children:Object(Ee.jsx)("span",{children:"Premium"})}):"",Object(Ee.jsx)("div",{className:"cities__image-wrapper place-card__image-wrapper",children:Object(Ee.jsx)("a",{href:"/#",children:Object(Ee.jsx)("img",{className:"place-card__image",src:j,width:"260",height:"200",alt:"Place image"})})}),Object(Ee.jsxs)("div",{className:"place-card__info",children:[Object(Ee.jsxs)("div",{className:"place-card__price-wrapper",children:[Object(Ee.jsxs)("div",{className:"place-card__price",children:[Object(Ee.jsxs)("b",{className:"place-card__price-value",children:["\u20ac",i]}),Object(Ee.jsx)("span",{className:"place-card__price-text",children:"/\xa0night"})]}),Object(Ee.jsx)(Ie,{isFavorite:l,id:d,buttonFavoriteStyle:q.normal})]}),Object(Ee.jsx)("div",{className:"place-card__rating rating",children:Object(Ee.jsx)("div",{className:"place-card__stars rating__stars",children:Object(Ee.jsx)(De,{rating:n})})}),Object(Ee.jsx)(Pe,{id:d,title:s}),Object(Ee.jsx)("p",{className:"place-card__type",children:c})]})]})}var Je=Object(s.memo)(Le),Fe=t(18),Qe=t(39);t(50);var Ke=function(){return Object(Ee.jsx)("div",{className:"loader",children:"Loading..."})},Ge=["isDataLoaded"],He=function(e){return function(a){var t=a.isDataLoaded,r=Object(Qe.a)(a,Ge);return t&&Object(Ee.jsx)(e,Object(Fe.a)({},r))||Object(Ee.jsx)(Ke,{})}};var We=He((function(e){var a=e.offers,t=e.onOfferMouseEnter,r=e.onOfferMouseLeave;return Object(Ee.jsx)("div",{className:"cities__places-list places__list tabs__content",children:a.map((function(e){return Object(Ee.jsx)(Je,{offer:e,onOfferMouseEnter:t,onOfferMouseLeave:r},e.id)}))})})),Ve=t(16),Ye=t.n(Ve),ze=(t(29),Te.a.shape({name:Te.a.string.isRequired,location:Te.a.shape({lat:Te.a.number.isRequired,lng:Te.a.number.isRequired,zoom:Te.a.number.isRequired})}),t(24));var Ze=function(e,a){var t=Object(s.useState)(null),r=Object(ze.a)(t,2),i=r[0],c=r[1];return Object(s.useEffect)((function(){if(null!==e.current&&null===i){var t=Ye.a.map(e.current,{center:{lat:a.location.lat,lng:a.location.lng},zoom:a.location.zoom});Ye.a.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'}).addTo(t),c(t)}}),[e,i,a]),i},Xe=t.p+"static/media/pin-active.6d8eeee8.svg",$e=t.p+"static/media/pin.e700a64a.svg";var ea=function(e){var a=e.city,t=e.offers,r=e.activeOffer,i=Object(s.useRef)(null),c=Ze(i,a),n=Ye.a.icon({iconUrl:$e,iconSize:[27,39],iconAnchor:[13,39]}),l=Ye.a.icon({iconUrl:Xe,iconSize:[27,39],iconAnchor:[13,39]});return Object(s.useEffect)((function(){var e=Ye.a.layerGroup();return c&&(e.addTo(c),t.forEach((function(a){var t=a.location.lat,s=a.location.lng;Ye.a.marker({lat:t,lng:s},{icon:r===a.id?l:n}).addTo(e)})),c.flyTo([a.location.lat,a.location.lng],a.location.zoom)),function(){e.clearLayers()}}),[c,a,t,r]),Object(Ee.jsx)("div",{ref:i,id:"map",style:{height:"100%"}})};var aa=function(e){var a=e.city,t=e.activeCity,r=e.cityChange;return Object(Ee.jsx)("li",{className:"locations__item",children:Object(Ee.jsx)("a",{onClick:function(e){e.preventDefault(),r(a)},className:a.name.toLowerCase()===t.name.toLowerCase()?"locations__item-link tabs__item tabs__item--active":"locations__item-link tabs__item",href:"#",children:Object(Ee.jsx)("span",{children:a.name})})})};var ta=function(e){var a=e.cityList,t=e.activeCity,r=e.cityChange;return Object(Ee.jsx)("ul",{className:"locations__list tabs__list",children:a.map((function(e){return Object(Ee.jsx)(aa,{cityChange:r,activeCity:t,city:e},e.name)}))})};Te.a.shape({type:Te.a.string.isRequired});var ra=function(e){var a=e.sort,t=e.handlerSortTypeChange,r=e.sortType,s=e.handlerSortMenuOpen;return Object(Ee.jsx)("li",{onClick:function(){t(a.type),s(!1)},className:r===a.type?"places__option places__option--active":"places__option",tabIndex:"0",children:a.type})};var sa=function(e){var a=e.sortMenuIsOpen,t=e.sortType,r=e.handlerSortMenuOpen,s=e.handlerSortTypeChange;return Object(Ee.jsx)("ul",{className:a?"places__options places__options--custom places__options--opened":"places__options places__options--custom",children:k.map((function(e){return Object(Ee.jsx)(ra,{sortType:t,handlerSortTypeChange:s,handlerSortMenuOpen:r,sort:e},e.type)}))})},ia=function(e){return e[Se].sortType},ca=function(e){return e[Se].sortMenuIsOpen};var na=function(){var e=Object(E.c)(ia),a=Object(E.c)(ca),t=Object(E.b)(),r=function(e){t(X(e))};return Object(Ee.jsxs)("form",{className:"places__sorting",action:"#",method:"get",children:[Object(Ee.jsx)("span",{className:"places__sorting-caption",children:"Sort by"}),Object(Ee.jsxs)("span",{onClick:function(e){e.preventDefault(),r(!a)},className:"places__sorting-type",tabIndex:"0",children:["\xa0",e,Object(Ee.jsx)("svg",{className:"places__sorting-arrow",width:"7",height:"4",children:Object(Ee.jsx)("use",{xlinkHref:"#icon-arrow-select"})})]}),Object(Ee.jsx)(sa,{sortType:e,sortMenuIsOpen:a,handlerSortTypeChange:function(e){t(Z(e))},handlerSortMenuOpen:r})]})},la=t.p+"static/media/logo.fe712023.svg";var oa=function(){return Object(Ee.jsx)(Me.a,{className:"header__logo-link header__logo-link--active",to:"/",children:Object(Ee.jsx)("img",{className:"header__logo",src:la,alt:"6 cities logo",width:"81",height:"41"})})};var da=function(){var e=Object(E.c)(Re),a=Object(E.c)(qe),t=Object(E.b)();return Object(Ee.jsx)("header",{className:"header",children:Object(Ee.jsx)("div",{className:"container",children:Object(Ee.jsxs)("div",{className:"header__wrapper",children:[Object(Ee.jsx)("div",{className:"header__left",children:Object(Ee.jsx)(oa,{})}),Object(Ee.jsxs)("nav",{className:"header__nav",children:[e===m?Object(Ee.jsxs)("ul",{className:"header__nav-list",children:[Object(Ee.jsx)("li",{className:"header__nav-item user",children:Object(Ee.jsxs)(Me.a,{to:d,className:"header__nav-link header__nav-link--profile",children:[Object(Ee.jsx)("div",{style:{backgroundImage:"url(".concat(a.avatarUrl,")")},className:"header__avatar-wrapper user__avatar-wrapper"}),Object(Ee.jsx)("span",{className:"header__user-name user__name",children:a.email})]})}),Object(Ee.jsx)("li",{className:"header__nav-item",children:Object(Ee.jsx)("a",{onClick:function(e){e.preventDefault(),t((function(e,a,t){return t.delete(x).then((function(){return localStorage.removeItem("token")})).then((function(){return e(ie())}))}))},className:"header__nav-link",href:"/#",children:Object(Ee.jsx)("span",{className:"header__signout",children:"Sign out"})})})]}):"",e===p?Object(Ee.jsx)("ul",{className:"header__nav-list",children:Object(Ee.jsx)("li",{className:"header__nav-item user",children:Object(Ee.jsxs)(Me.a,{to:o,className:"header__nav-link header__nav-link--profile",children:[Object(Ee.jsx)("div",{className:"header__avatar-wrapper user__avatar-wrapper"}),Object(Ee.jsx)("span",{className:"header__login",children:"Sign in"})]})})}):""]})]})})})},ja=t(15),ua=function(e){return e[Ae].isDataLoaded},ma=function(e){return e[Ae].isDataOfferLoaded},pa=function(e){return e[Ae].offers},ba=function(e){return e[Ae].reviews},ha=function(e){return e[Ae].selectedOffer},_a=function(e){return e[Ae].activeOffer},Oa=function(e){return e[Ae].city},fa=Object(ja.a)([pa],(function(e){return e.filter((function(e){return e.isFavorite}))})),va=Object(ja.a)([Oa,pa],(function(e,a){return a.filter((function(a){return e.name.toLowerCase()===a.city.name.toLowerCase()}))})),xa=Object(ja.a)([ia,va],(function(e,a){switch(e){case C:return a.slice().sort((function(e,a){return a.price-e.price}));case w:return a.slice().sort((function(e,a){return e.price-a.price}));case S:return a.slice().sort((function(e,a){return a.rating-e.rating}));default:return a}}));var ga=function(){var e=Object(E.c)(Oa);return Object(Ee.jsx)("div",{className:"cities",children:Object(Ee.jsxs)("div",{className:"cities__places-container cities__places-container--empty container",children:[Object(Ee.jsx)("section",{className:"cities__no-places",children:Object(Ee.jsxs)("div",{className:"cities__status-wrapper tabs__content",children:[Object(Ee.jsx)("b",{className:"cities__status",children:"No places to stay available"}),Object(Ee.jsxs)("p",{className:"cities__status-description",children:["We could not find any property available at the moment in\xa0",e.name]})]})}),Object(Ee.jsx)("div",{className:"cities__right-section"})]})})};var Na=function(e){var a=e.cityList,t=Object(E.c)(xa),r=Object(E.c)(Oa),i=Object(E.c)(ua),c=Object(E.c)(_a),n=Object(E.b)(),l=function(e){n($(e))},o=function(){n((function(e,a,t){return t.get(h).then((function(a){var t=a.data;return e(ae(t.map((function(e){return ue(e)}))))})).catch((function(){return e(ce(u))}))}))};Object(s.useEffect)((function(){o()}),[i]);var d=Object(s.useCallback)((function(e){return l(e)}),[]),j=Object(s.useCallback)((function(){return l(null)}),[]);return Object(Ee.jsxs)("div",{className:"page page--gray page--main",children:[Object(Ee.jsx)(da,{}),Object(Ee.jsxs)("main",{className:"page__main page__main--index",children:[Object(Ee.jsx)("h1",{className:"visually-hidden",children:"Cities"}),Object(Ee.jsx)("div",{className:"tabs",children:Object(Ee.jsx)("section",{className:"locations container",children:Object(Ee.jsx)(ta,{activeCity:r,cityList:a,cityChange:function(e){n(z(e))}})})}),0===t.length&&!0===i?Object(Ee.jsx)(ga,{}):Object(Ee.jsx)("div",{className:"cities",children:Object(Ee.jsxs)("div",{className:"cities__places-container container",children:[Object(Ee.jsxs)("section",{className:"cities__places places",children:[Object(Ee.jsx)("h2",{className:"visually-hidden",children:"Places"}),Object(Ee.jsxs)("b",{className:"places__found",children:[t.length," places to stay in Amsterdam"]}),Object(Ee.jsx)(na,{}),Object(Ee.jsx)("div",{className:"cities__places-list places__list tabs__content",children:Object(Ee.jsx)(We,{isDataLoaded:i,offers:t,onOfferMouseEnter:d,onOfferMouseLeave:j})})]}),Object(Ee.jsx)("div",{className:"cities__right-section",children:Object(Ee.jsx)("section",{className:"cities__map map",children:Object(Ee.jsx)(ea,{city:r,offers:t,activeOffer:c})})})]})})]})]})},ya=t(23);var Aa=function(e){var a=e.offer,t=a.title,r=a.price,s=a.rating,i=a.type,c=a.previewImage,n=a.id,l=a.isFavorite;return Object(Ee.jsxs)("article",{className:"favorites__card place-card",children:[Object(Ee.jsx)("div",{className:"favorites__image-wrapper place-card__image-wrapper",children:Object(Ee.jsx)("a",{href:"/#",children:Object(Ee.jsx)("img",{className:"place-card__image",src:c,width:"150",height:"110",alt:"Place image"})})}),Object(Ee.jsxs)("div",{className:"favorites__card-info place-card__info",children:[Object(Ee.jsxs)("div",{className:"place-card__price-wrapper",children:[Object(Ee.jsxs)("div",{className:"place-card__price",children:[Object(Ee.jsxs)("b",{className:"place-card__price-value",children:["\u20ac",r]}),Object(Ee.jsx)("span",{className:"place-card__price-text",children:"/\xa0night"})]}),Object(Ee.jsx)(Ie,{isFavorite:l,id:n,buttonFavoriteStyle:q.normal})]}),Object(Ee.jsx)("div",{className:"place-card__rating rating",children:Object(Ee.jsx)(De,{rating:s})}),Object(Ee.jsx)("h2",{className:"place-card__name",children:Object(Ee.jsx)(Me.a,{to:j,children:t})}),Object(Ee.jsx)("p",{className:"place-card__type",children:i})]})]})};var wa=function(e){var a=e.offers;return Object(Ee.jsx)("div",{className:"favorites__places",children:a.map((function(e){return Object(Ee.jsx)(Aa,{offer:e},e.id)}))})};var Ca=function(e){var a=e.city,t=e.offers;return Object(Ee.jsxs)("li",{className:"favorites__locations-items",children:[Object(Ee.jsx)("div",{className:"favorites__locations locations locations--current",children:Object(Ee.jsx)("div",{className:"locations__item",children:Object(Ee.jsx)("a",{className:"locations__item-link",href:"/#",children:Object(Ee.jsx)("span",{children:a})})})}),Object(Ee.jsx)(wa,{offers:t})]})},Sa=function(e,a){return a.filter((function(a){return e.toLowerCase()===a.city.name.toLowerCase()}))};var ka=function(e){var a=e.offers,t=Object(ya.a)(new Set(a.map((function(e){return e.city.name}))));return Object(Ee.jsx)("ul",{className:"favorites__list",children:t.map((function(e){return Object(Ee.jsx)(Ca,{offers:Sa(e,a),city:e},e)}))})};var Ra=function(){return Object(Ee.jsxs)("div",{className:"page page--favorites-empty",children:[Object(Ee.jsx)(da,{}),Object(Ee.jsx)("main",{className:"page__main page__main--favorites page__main--favorites-empty",children:Object(Ee.jsx)("div",{className:"page__favorites-container container",children:Object(Ee.jsxs)("section",{className:"favorites favorites--empty",children:[Object(Ee.jsx)("h1",{className:"visually-hidden",children:"Favorites (empty)"}),Object(Ee.jsxs)("div",{className:"favorites__status-wrapper",children:[Object(Ee.jsx)("b",{className:"favorites__status",children:"Nothing yet saved."}),Object(Ee.jsx)("p",{className:"favorites__status-description",children:"Save properties to narrow down search or plan your future trips."})]})]})})}),Object(Ee.jsx)("footer",{className:"footer",children:Object(Ee.jsx)(Me.a,{className:"footer__logo-link",to:l,children:Object(Ee.jsx)("img",{className:"footer__logo",src:"img/logo.svg",alt:"6 cities logo",width:"64",height:"33"})})})]})};var qa=function(){var e=Object(E.c)(ua),a=Object(E.c)(fa),t=Object(E.b)(),r=function(){t((function(e,a,t){return t.get(O).then((function(a){var t=a.data;return e(ae(t.map((function(e){return ue(e)}))))})).catch((function(){return e(ce(u))}))}))};return Object(s.useEffect)((function(){r()}),[e]),0===a.length?Object(Ee.jsx)(Ra,{}):Object(Ee.jsxs)("div",{className:"page",children:[Object(Ee.jsx)(da,{}),Object(Ee.jsx)("main",{className:"page__main page__main--favorites",children:Object(Ee.jsx)("div",{className:"page__favorites-container container",children:Object(Ee.jsxs)("section",{className:"favorites",children:[Object(Ee.jsx)("h1",{className:"favorites__title",children:"Saved listing"}),Object(Ee.jsx)(ka,{offers:a})]})})}),Object(Ee.jsx)("footer",{className:"footer container",children:Object(Ee.jsx)("a",{className:"footer__logo-link",href:"main.html",children:Object(Ee.jsx)("img",{className:"footer__logo",src:"img/logo.svg",alt:"6 cities logo",width:"64",height:"33"})})})]})};var Ea=function(){var e=Object(s.useRef)(),a=Object(s.useRef)(),t=Object(E.b)(),r=function(e){t(function(e){var a=e.login,t=e.password;return function(e,r,s){return s.post(v,{email:a,password:t}).then((function(a){var t=a.data;localStorage.setItem("token",t.token),e(se(pe(t))),e(re(m))}))}}(e))};return Object(Ee.jsxs)("div",{className:"page page--gray page--login",children:[Object(Ee.jsx)("header",{className:"header",children:Object(Ee.jsx)("div",{className:"container",children:Object(Ee.jsxs)("div",{className:"header__wrapper",children:[Object(Ee.jsx)("div",{className:"header__left",children:Object(Ee.jsx)(oa,{})}),Object(Ee.jsx)("nav",{className:"header__nav",children:Object(Ee.jsx)("ul",{className:"header__nav-list",children:Object(Ee.jsx)("li",{className:"header__nav-item user",children:Object(Ee.jsxs)("a",{className:"header__nav-link header__nav-link--profile",href:"/#",children:[Object(Ee.jsx)("div",{className:"header__avatar-wrapper user__avatar-wrapper"}),Object(Ee.jsx)("span",{className:"header__login",children:"Sign in"})]})})})})]})})}),Object(Ee.jsx)("main",{className:"page__main page__main--login",children:Object(Ee.jsxs)("div",{className:"page__login-container container",children:[Object(Ee.jsxs)("section",{className:"login",children:[Object(Ee.jsx)("h1",{className:"login__title",children:"Sign in"}),Object(Ee.jsxs)("form",{onSubmit:function(t){t.preventDefault(),r({login:e.current.value,password:a.current.value})},className:"login__form form",action:"#",method:"post",children:[Object(Ee.jsxs)("div",{className:"login__input-wrapper form__input-wrapper",children:[Object(Ee.jsx)("label",{className:"visually-hidden",children:"E-mail"}),Object(Ee.jsx)("input",{ref:e,className:"login__input form__input",type:"email",name:"email",placeholder:"Email",required:!0})]}),Object(Ee.jsxs)("div",{className:"login__input-wrapper form__input-wrapper",children:[Object(Ee.jsx)("label",{className:"visually-hidden",children:"Password"}),Object(Ee.jsx)("input",{ref:a,className:"login__input form__input",type:"password",name:"password",placeholder:"Password",required:"",pattern:"^[^\\s()-]*$"})]}),Object(Ee.jsx)("button",{className:"login__submit form__submit button",type:"submit",children:"Sign in"})]})]}),Object(Ee.jsx)("section",{className:"locations locations--login locations--current",children:Object(Ee.jsx)("div",{className:"locations__item",children:Object(Ee.jsx)("a",{className:"locations__item-link",href:"/#",children:Object(Ee.jsx)("span",{children:"Amsterdam"})})})})]})})]})};var Ia=function(e){var a=e.offer,t=a.title,r=a.price,s=a.rating,i=a.isFavorite,c=a.type,n=a.previewImage,l=a.id;return Object(Ee.jsxs)("article",{className:"near-places__card place-card",children:[Object(Ee.jsx)("div",{className:"near-places__image-wrapper place-card__image-wrapper",children:Object(Ee.jsx)("a",{href:"/#",children:Object(Ee.jsx)("img",{className:"place-card__image",src:n,width:"260",height:"200",alt:"Place image"})})}),Object(Ee.jsxs)("div",{className:"place-card__info",children:[Object(Ee.jsxs)("div",{className:"place-card__price-wrapper",children:[Object(Ee.jsxs)("div",{className:"place-card__price",children:[Object(Ee.jsxs)("b",{className:"place-card__price-value",children:["\u20ac",r]}),Object(Ee.jsx)("span",{className:"place-card__price-text",children:"/\xa0night"})]}),Object(Ee.jsx)(Ie,{isFavorite:i,id:l,buttonFavoriteStyle:q.normal})]}),Object(Ee.jsx)("div",{className:"place-card__rating rating",children:Object(Ee.jsxs)("div",{className:"place-card__stars rating__stars",children:[Object(Ee.jsx)(De,{rating:s}),Object(Ee.jsx)("span",{className:"visually-hidden",children:"Rating"})]})}),Object(Ee.jsx)(Pe,{id:l,title:t}),Object(Ee.jsx)("p",{className:"place-card__type",children:c})]})]})};var Da=function(e){var a=e.offers;return Object(Ee.jsxs)("section",{className:"near-places places",children:[Object(Ee.jsx)("h2",{className:"near-places__title",children:"Other places in the neighbourhood"}),Object(Ee.jsx)("div",{className:"near-places__list places__list",children:a.map((function(e){return Object(Ee.jsx)(Ia,{offer:e},e.id)}))})]})};var Ba=function(e){var a=e.image;return Object(Ee.jsx)("div",{className:"property__image-wrapper",children:Object(Ee.jsx)("img",{className:"property__image",src:a,alt:"Photo studio"})})};var Ta=function(e){var a=e.images;return Object(Ee.jsx)("div",{className:"property__gallery",children:a.slice(0,6).map((function(e){return Object(Ee.jsx)(Ba,{image:e},e)}))})};Te.a.shape({id:Te.a.number.isRequired,date:Te.a.string.isRequired,comment:Te.a.string,rating:Te.a.number.isRequired,user:Te.a.shape({avatarUrl:Te.a.string,id:Te.a.number.isRequired,isPro:Te.a.bool.isRequired,name:Te.a.string.isRequired}).isRequired});var Ma=function(e){var a=e.review,t=a.comment,r=a.user,s=a.rating,i=a.date,c=r.name,n=r.avatarUrl,l=new Date(i).toLocaleDateString(g,{year:N,month:y});return Object(Ee.jsxs)("li",{className:"reviews__item",children:[Object(Ee.jsxs)("div",{className:"reviews__user user",children:[Object(Ee.jsx)("div",{className:"reviews__avatar-wrapper user__avatar-wrapper",children:Object(Ee.jsx)("img",{className:"reviews__avatar user__avatar",src:n,width:"54",height:"54",alt:"Reviews avatar"})}),Object(Ee.jsx)("span",{className:"reviews__user-name",children:c})]}),Object(Ee.jsxs)("div",{className:"reviews__info",children:[Object(Ee.jsx)("div",{className:"reviews__rating rating",children:Object(Ee.jsx)("div",{className:"reviews__stars rating__stars",children:Object(Ee.jsx)(De,{rating:s})})}),Object(Ee.jsx)("p",{className:"reviews__text",children:t}),Object(Ee.jsx)("time",{className:"reviews__time",dateTime:"2019-04-24",children:l})]})]})};var Ua=function(e){var a=e.reviews,t=a.length;return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsxs)("h2",{className:"reviews__title",children:["Reviews \xb7 ",Object(Ee.jsx)("span",{className:"reviews__amount",children:t})]}),Object(Ee.jsx)("ul",{className:"reviews__list",children:a.slice(0,10).sort((function(e,a){return new Date(a.date)-new Date(e.date)})).map((function(e){return Object(Ee.jsx)(Ma,{review:e},e.id)}))})]})},Pa=function(e){return e[we].comment},La=function(e){return e[we].isCommentSendSuccess},Ja=function(e){return e[we].isCommentSendError},Fa=function(e){return e[we].isCommentSending};t(51);var Qa=function(e){var a=e.id,t=Object(E.c)(La),r=Object(E.c)(Ja),i=Object(E.c)(Fa),c=Object(s.useState)({review:"",rating:0}),n=Object(ze.a)(c,2),l=n[0],o=n[1],d=Object(E.b)(),j=function(e,a,t){d(function(e,a,t){return function(r,s,i){return r(je(!0)),r(oe(!1)),r(de(!1)),i.post(f+t,{comment:e,rating:a}).then((function(){r(oe(!0)),r(de(!1)),r(je(!1)),be(t)})).catch((function(){r(oe(!1)),r(de(!0)),r(je(!1))}))}}(e,a,t)),d(ne({userComment:e,userRating:a}))},u=Object(s.useRef)();Object(s.useEffect)((function(){u.current.value="",o((function(){return{review:"",rating:0}}))}),[t]);var m=function(e){var a=e.target,t=a.name,r=a.value;o((function(e){return Object(Fe.a)(Object(Fe.a)({},e),{},Object(he.a)({},t,r))}))};return Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.target.reset(),j(l.review,l.rating,a)},className:"reviews__form form",action:"#",method:"post",children:[Object(Ee.jsx)("label",{className:"reviews__label form__label",htmlFor:"review",children:"Your review"}),Object(Ee.jsxs)("div",{onChange:m,className:"reviews__rating-form form__rating",children:[r?Object(Ee.jsx)("span",{className:"reviews__error-message",children:"Error message"}):"",Object(Ee.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",value:"5",id:"5-stars",type:"radio",required:!0}),Object(Ee.jsx)("label",{htmlFor:"5-stars",className:"reviews__rating-label form__rating-label",title:"perfect",children:Object(Ee.jsx)("svg",{className:"form__star-image",width:"37",height:"33",children:Object(Ee.jsx)("use",{xlinkHref:"#icon-star"})})}),Object(Ee.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",value:"4",id:"4-stars",type:"radio"}),Object(Ee.jsx)("label",{htmlFor:"4-stars",className:"reviews__rating-label form__rating-label",title:"good",children:Object(Ee.jsx)("svg",{className:"form__star-image",width:"37",height:"33",children:Object(Ee.jsx)("use",{xlinkHref:"#icon-star"})})}),Object(Ee.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",value:"3",id:"3-stars",type:"radio"}),Object(Ee.jsx)("label",{htmlFor:"3-stars",className:"reviews__rating-label form__rating-label",title:"not bad",children:Object(Ee.jsx)("svg",{className:"form__star-image",width:"37",height:"33",children:Object(Ee.jsx)("use",{xlinkHref:"#icon-star"})})}),Object(Ee.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",value:"2",id:"2-stars",type:"radio"}),Object(Ee.jsx)("label",{htmlFor:"2-stars",className:"reviews__rating-label form__rating-label",title:"badly",children:Object(Ee.jsx)("svg",{className:"form__star-image",width:"37",height:"33",children:Object(Ee.jsx)("use",{xlinkHref:"#icon-star"})})}),Object(Ee.jsx)("input",{className:"form__rating-input visually-hidden",name:"rating",value:"1",id:"1-star",type:"radio"}),Object(Ee.jsx)("label",{htmlFor:"1-star",className:"reviews__rating-label form__rating-label",title:"terribly",children:Object(Ee.jsx)("svg",{className:"form__star-image",width:"37",height:"33",children:Object(Ee.jsx)("use",{xlinkHref:"#icon-star"})})})]}),Object(Ee.jsx)("textarea",{onChange:m,ref:u,value:l.review,className:"reviews__textarea form__textarea",id:"review",name:"review",placeholder:"Tell how was your stay, what you like and what can be improved",maxLength:"300",required:!0}),Object(Ee.jsxs)("div",{className:"reviews__button-wrapper",children:[Object(Ee.jsxs)("p",{className:"reviews__help",children:["To submit review please make sure to set ",Object(Ee.jsx)("span",{className:"reviews__star",children:"rating"})," and describe your stay with at least ",Object(Ee.jsx)("b",{className:"reviews__text-amount",children:"50 characters"}),"."]}),Object(Ee.jsx)("button",{className:"reviews__submit form__submit button",type:"submit",disabled:i||!(l.review.length>=50&&l.rating),children:"Submit"})]})]})};var Ka=He((function(e){var a=e.selectedOffer,t=e.reviews,r=e.authorizationStatus,s=e.offers,i=a.title,c=a.rating,n=a.isPremium,l=a.isFavorite,o=a.type,d=a.bedrooms,j=a.maxAdults,u=a.price,p=a.goods,b=a.host,h=a.images,_=a.city,O=a.id;return b.avatarUrl,console.log(a),Object(Ee.jsxs)("section",{className:"property",children:[Object(Ee.jsx)("div",{className:"property__gallery-container container",children:Object(Ee.jsx)(Ta,{images:h})}),Object(Ee.jsx)("div",{className:"property__container container",children:Object(Ee.jsxs)("div",{className:"property__wrapper",children:[n?Object(Ee.jsx)("div",{className:"property__mark",children:Object(Ee.jsx)("span",{children:"Premium"})}):"",Object(Ee.jsxs)("div",{className:"property__name-wrapper",children:[Object(Ee.jsx)("h1",{className:"property__name",children:i}),Object(Ee.jsx)(Ie,{isFavorite:l,id:O,buttonFavoriteStyle:q.large})]}),Object(Ee.jsxs)("div",{className:"property__rating rating",children:[Object(Ee.jsx)("div",{className:"property__stars rating__stars",children:Object(Ee.jsx)(De,{rating:c})}),Object(Ee.jsx)("span",{className:"property__rating-value rating__value",children:c})]}),Object(Ee.jsxs)("ul",{className:"property__features",children:[Object(Ee.jsx)("li",{className:"property__feature property__feature--entire",children:o}),Object(Ee.jsxs)("li",{className:"property__feature property__feature--bedrooms",children:[d," Bedrooms"]}),Object(Ee.jsxs)("li",{className:"property__feature property__feature--adults",children:["Max ",j," adults"]})]}),Object(Ee.jsxs)("div",{className:"property__price",children:[Object(Ee.jsxs)("b",{className:"property__price-value",children:["\u20ac",u]}),Object(Ee.jsx)("span",{className:"property__price-text",children:"\xa0night"})]}),Object(Ee.jsxs)("div",{className:"property__inside",children:[Object(Ee.jsx)("h2",{className:"property__inside-title",children:"What's inside"}),Object(Ee.jsx)("ul",{className:"property__inside-list",children:p.map((function(e){return Object(Ee.jsx)("li",{className:"property__inside-item",children:e},e)}))})]}),Object(Ee.jsxs)("div",{className:"property__host",children:[Object(Ee.jsx)("h2",{className:"property__host-title",children:"Meet the host"}),Object(Ee.jsxs)("div",{className:"property__host-user user",children:[Object(Ee.jsx)("div",{className:b.isPro?"property__avatar-wrapper property__avatar-wrapper--pro user__avatar-wrapper":"property__avatar-wrapper user__avatar-wrapper",children:Object(Ee.jsx)("img",{className:"property__avatar user__avatar",src:"data:image/jpeg;base64,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",width:"74",height:"74",alt:"Host avatar"})}),Object(Ee.jsx)("span",{className:"property__user-name",children:b.name}),b.isPro?Object(Ee.jsx)("span",{className:"property__user-status",children:"Pro"}):""]}),Object(Ee.jsxs)("div",{className:"property__description",children:[Object(Ee.jsx)("p",{className:"property__text",children:"A quiet cozy and picturesque that hides behind a a river by the unique lightness of Amsterdam. The building is green and from 18th century."}),Object(Ee.jsx)("p",{className:"property__text",children:"An independent House, strategically located between Rembrand Square and National Opera, but where the bustle of the city comes to rest in this alley flowery and colorful."})]})]}),Object(Ee.jsxs)("section",{className:"property__reviews reviews",children:[Object(Ee.jsx)(Ua,{reviews:t}),r===m?Object(Ee.jsx)(Qa,{id:O}):""]})]})}),Object(Ee.jsx)("section",{className:"property__map map",children:Object(Ee.jsx)(ea,{city:_,offers:[].concat(Object(ya.a)(s),[a]),activeOffer:a.id})})]})}));var Ga=function(e){var a=e.offerId,t=Object(E.c)(ba),r=Object(E.c)(pa),i=Object(E.c)(ha),c=Object(E.c)(ua),n=Object(E.c)(ma),l=Object(E.c)(Re),o=Object(E.c)(Pa),d=Object(E.c)(_a),j=Object(E.b)(),m=function(e){j(be(e))},p=function(e){j(function(e){return function(a,t,r){return r.get(h+e).then((function(e){var t=e.data;return a(ee(Object.assign({},ue(t))))})).catch((function(){return a(ce(u))}))}}(e))},b=function(e){j(function(e){return function(a,t,r){return r.get(h+e+_).then((function(e){var t=e.data;return a(ae(t.map((function(e){return ue(e)}))))}))}}(e))};return Object(s.useEffect)((function(){p(a),m(a),b(a)}),[c,a]),Object(s.useEffect)((function(){m(a)}),[o]),Object(Ee.jsxs)("div",{className:"page",children:[Object(Ee.jsx)(da,{}),Object(Ee.jsxs)("main",{className:"page__main page__main--property",children:[Object(Ee.jsx)(Ka,{isDataLoaded:n,selectedOffer:i,reviews:t,offers:r,authorizationStatus:l,activeOffer:d}),Object(Ee.jsx)("div",{className:"container",children:Object(Ee.jsx)(Da,{offers:r})})]})]})};var Ha=function(){return Object(Ee.jsxs)("div",{className:"page page--gray page--main",children:[Object(Ee.jsx)("header",{className:"header",children:Object(Ee.jsx)("div",{className:"container",children:Object(Ee.jsxs)("div",{className:"header__wrapper",children:[Object(Ee.jsx)("div",{className:"header__left",children:Object(Ee.jsx)(oa,{})}),Object(Ee.jsx)("nav",{className:"header__nav",children:Object(Ee.jsxs)("ul",{className:"header__nav-list",children:[Object(Ee.jsx)("li",{className:"header__nav-item user",children:Object(Ee.jsxs)("a",{className:"header__nav-link header__nav-link--profile",href:"#",children:[Object(Ee.jsx)("div",{className:"header__avatar-wrapper user__avatar-wrapper"}),Object(Ee.jsx)("span",{className:"header__user-name user__name",children:"Oliver.conner@gmail.com"})]})}),Object(Ee.jsx)("li",{className:"header__nav-item",children:Object(Ee.jsx)("a",{className:"header__nav-link",href:"#",children:Object(Ee.jsx)("span",{className:"header__signout",children:"Sign out"})})})]})})]})})}),Object(Ee.jsxs)("main",{className:"page__main page__main--index page__main--index-empty",children:[Object(Ee.jsx)("h1",{className:"visually-hidden",children:"Cities"}),Object(Ee.jsx)("div",{className:"tabs",children:Object(Ee.jsx)("section",{className:"locations container",children:Object(Ee.jsxs)("ul",{className:"locations__list tabs__list",children:[Object(Ee.jsx)("li",{className:"locations__item",children:Object(Ee.jsx)("a",{className:"locations__item-link tabs__item",href:"#",children:Object(Ee.jsx)("span",{children:"Paris"})})}),Object(Ee.jsx)("li",{className:"locations__item",children:Object(Ee.jsx)("a",{className:"locations__item-link tabs__item",href:"#",children:Object(Ee.jsx)("span",{children:"Cologne"})})}),Object(Ee.jsx)("li",{className:"locations__item",children:Object(Ee.jsx)("a",{className:"locations__item-link tabs__item",href:"#",children:Object(Ee.jsx)("span",{children:"Brussels"})})}),Object(Ee.jsx)("li",{className:"locations__item",children:Object(Ee.jsx)("a",{className:"locations__item-link tabs__item",children:Object(Ee.jsx)("span",{children:"Amsterdam"})})}),Object(Ee.jsx)("li",{className:"locations__item",children:Object(Ee.jsx)("a",{className:"locations__item-link tabs__item",href:"#",children:Object(Ee.jsx)("span",{children:"Hamburg"})})}),Object(Ee.jsx)("li",{className:"locations__item",children:Object(Ee.jsx)("a",{className:"locations__item-link tabs__item tabs__item--active",href:"#",children:Object(Ee.jsx)("span",{children:"Dusseldorf"})})})]})})}),Object(Ee.jsx)("div",{className:"cities",children:Object(Ee.jsxs)("div",{className:"cities__places-container cities__places-container--empty container",children:[Object(Ee.jsx)("section",{className:"cities__no-places",children:Object(Ee.jsxs)("div",{className:"cities__status-wrapper tabs__content",children:[Object(Ee.jsx)("b",{className:"cities__status",children:"Page not found"}),Object(Ee.jsx)("p",{className:"cities__status-description",children:"invalid addrece"})]})}),Object(Ee.jsx)("div",{className:"cities__right-section"})]})})]})]})};var Wa=function(e){var a=e.render,t=e.path,r=e.exact,s=e.status,i=void 0===s?m:s,c=e.redirect,n=void 0===c?o:c,l=Object(E.c)(Re);return l===b?Object(Ee.jsx)(Ke,{}):Object(Ee.jsx)(Ue.b,{path:t,exact:r,render:function(e){return l===i?a(e):Object(Ee.jsx)(Ue.a,{to:n})}})};var Va,Ya=function(){return Object(Ee.jsxs)(Ue.d,{children:[Object(Ee.jsx)(Ue.b,{exact:!0,path:l,children:Object(Ee.jsx)(Na,{cityList:R})}),Object(Ee.jsx)(Wa,{exact:!0,path:d,render:function(){return Object(Ee.jsx)(qa,{})}}),Object(Ee.jsx)(Wa,{exact:!0,status:p,path:o,redirect:l,render:function(){return Object(Ee.jsx)(Ea,{})}}),Object(Ee.jsx)(Ue.b,{exact:!0,path:j,render:function(e){var a=e.match.params.id;return Object(Ee.jsx)(Ga,{offerId:a,city:R[0]})}}),Object(Ee.jsx)(Ue.b,{children:Object(Ee.jsx)(Ha,{})})]})},za=t(38),Za=t.n(za),Xa=401,$a=null!==(Va=localStorage.getItem("token"))&&void 0!==Va?Va:"",et=t(9),at=Object(et.a)(),tt=function(e){return function(e){return function(a){return a.type===K&&at.push(a.payload),e(a)}}},rt=(t(70),function(e){var a=Za.a.create({baseURL:"https://7.react.pages.academy/six-cities",timeout:5e3,headers:{"x-token":$a}});return a.interceptors.response.use((function(e){return e}),(function(a){throw a.response.status===Xa&&e(),a})),a.interceptors.request.use((function(e){var a;return e.headers={"x-token":null!==(a=localStorage.getItem("token"))&&void 0!==a?a:""},e})),a}((function(){return st.dispatch(re(p))}))),st=Object(I.a)({reducer:ke,middleware:function(e){return e({thunk:{extraArgument:rt}}).concat(tt)}});st.dispatch((function(e,a,t){return t.get(v).then((function(a){var t=a.data;e(re(m)),e(se(pe(t)))})).catch((function(){}))})),n.a.render(Object(Ee.jsx)(i.a.StrictMode,{children:Object(Ee.jsx)(E.a,{store:st,children:Object(Ee.jsx)(Ue.c,{history:at,children:Object(Ee.jsx)(Ya,{})})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.f5beddf7.chunk.js.map